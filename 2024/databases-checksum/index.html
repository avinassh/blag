<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=generator content="Hugo 0.139.2"><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content><meta property="og:url" content="https://avi.im/blag/2024/databases-checksum/"><title>PSA: Most databases do not do checksums by default - blag</title>
<meta property="og:title" content="PSA: Most databases do not do checksums by default - blag"><meta property="og:type" content="article"><meta property="og:description" content="Most databases don&rsquo;t do checksums by default. Disk corruptions go silently unnoticed."><meta name=description content="Most databases don&rsquo;t do checksums by default. Disk corruptions go silently unnoticed."><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Arvo:400,700"><link rel=stylesheet href=/blag/css/highlight.css><link rel=stylesheet href=/blag/css/journal.css><link href=/blag/index.xml rel=alternate type=application/rss+xml title=blag></head><body><div class=container><div class=site-header-nav><nav class=site-nav><a href=https://avi.im/blag/>Index</a></nav><div><span><a href=/blag/about>About</a></span>
<span><a href=/blag/now>Now</a></span></div></div><article class=post><header class=post-header><h1 class=post-title>PSA: Most databases do not do checksums by default</h1><time class=post-date datetime="2024-11-09 21:11:18 +0530">09 Nov 2024</time></header><p><small>This is a follow up to my post: <a href=https://avi.im/blag/2024/sqlite-bit-flip/>PSA: SQLite does not do checksums</a></small></p><p>My friend, who claims to be a bigger fan of SQLite than me (debatable), said that my previous <a href=https://avi.im/blag/2024/sqlite-bit-flip/>blog post</a> was unfair. My fren is right in a way. I wrote about SQLite because that&rsquo;s what I&rsquo;m most familiar with and what I use every day. But here&rsquo;s a follow-up: most databases don&rsquo;t have checksums enabled by default. As explained earlier, even a single bit flip can be devastating, and your database or application won&rsquo;t even know about it. Alice would have lost money even on Postgres.</p><p>I thought I would make a list of databases which don&rsquo;t have checksums, but it turns out it&rsquo;s easier to make a list of databases which enable it by default. Postgres, Microsoft SQL Server, and many others don&rsquo;t have checksums by default!</p><p>So, here&rsquo;s a short list of databases that do enable checksums by default:</p><ul><li>TigerBeetle</li><li>FoundationDB</li><li>Oracle (I have no idea which version, check the documentation)</li><li>MongoDB</li><li>ClickHouse</li><li><a href=https://x.com/MarkCallaghanDB/status/1855341370199953671>MySQL with InnoDB</a></li></ul><p>Note that the upcoming Postgres 18 will have <a href=https://github.com/postgres/postgres/commit/04bec894a04cb0d32533f1522ab81b7016141ff1>checksums enabled</a> by default in cluster mode.</p><p>Did I miss any? <a href=https://x.com/iavins/status/1855256734400663597>Let me know</a>.</p><h2 id=reading>Reading</h2><ul><li>TigerBeetle&rsquo;s <a href=https://github.com/tigerbeetle/tigerbeetle/blob/main/docs/about/safety.md>safety page</a> is a great read on this topic.</li><li>Redundancy Does Not Imply Fault Tolerance: Analysis of Distributed Storage Reactions to Single Errors and Corruptions - <a href=https://www.usenix.org/conference/fast17/technical-sessions/presentation/ganesan>link</a></li></ul></article><script async data-uid=0576bb9e32 src=https://avin.ck.page/0576bb9e32/index.js></script><footer class=site-footer><div class=rc-scout style=margin-right:auto;margin-top:auto;font-size:.6rem></div><script async defer src="https://www.recurse-scout.com/loader.js?t=a4aabd5087bb19daf083302de1b46650"></script><span class=person-schema itemscope itemtype=http://schema.org/Person><link itemprop=url href=https://avi.im/blag/><span itemprop=name></span><br><a itemprop=sameAs href=https://github.com/avinassh title=GitHub><img src=/blag/svg/gh.svg alt="icon name"></a>
<a itemprop=sameAs href=/blag/index.xml title=GitHub><img src=/blag/svg/rss.svg alt="icon name"></a></span></footer></div><script src=/blag/js/highlight.pack.js></script><script>hljs.initHighlightingOnLoad()</script><script data-goatcounter=https://avi.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>