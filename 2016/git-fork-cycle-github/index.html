<!DOCTYPE html>
<html lang="en">
<head>
  
    <title>Git/Github fork-pull request-update cycle  :: Terminal</title>
  
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="Lets say there is a project called python and you want to contribute. So you should fork python project and ALWAYS create a separate branch for the patch/feature you are working on and NEVER commit on the master branch of forked repo.
Lets call your forked repo as python-forked.
Once you fork a project, add a git remote called upstream (or whatever name you feel like using), which points to original repo." />
<meta name="keywords" content="" />
<meta name="robots" content="noodp" />
<link rel="canonical" href="http://avi.im/blag/2016/git-fork-cycle-github/" />




<link rel="stylesheet" href="http://avi.im/blag/assets/style.css">

  <link rel="stylesheet" href="http://avi.im/blag/assets/blue.css">






<link rel="apple-touch-icon" href="http://avi.im/blag/img/apple-touch-icon-192x192.png">

  <link rel="shortcut icon" href="http://avi.im/blag/img/favicon/blue.png">



<meta name="twitter:card" content="summary" />

  
    <meta name="twitter:site" content="" />
  
    <meta name="twitter:creator" content="" />



<meta property="og:locale" content="en" />
<meta property="og:type" content="article" />
<meta property="og:title" content="Git/Github fork-pull request-update cycle ">
<meta property="og:description" content="When contributing to Open Source Projects, new contributors often run into problems of having multiple merge commits and issues with keeping the forked repo in sync. This post addresses solutions for some of the problems." />
<meta property="og:url" content="http://avi.im/blag/2016/git-fork-cycle-github/" />
<meta property="og:site_name" content="Terminal" />

  
    <meta property="og:image" content="http://avi.im/blag/img/favicon/blue.png">
  

<meta property="og:image:width" content="2048">
<meta property="og:image:height" content="1024">

  <meta property="article:section" content="code" />


  <meta property="article:published_time" content="2016-02-19 23:03:00 &#43;0530 IST" />












</head>
<body class="blue">


<div class="container center headings--one-size">

  <header class="header">
  <div class="header__inner">
    <div class="header__logo">
      <a href="/blag">
  <div class="logo">
    blag
  </div>
</a>

    </div>
    
      <div class="menu-trigger">menu</div>
    
  </div>
  
    <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/blag/about">About</a></li>
        
      
        
          <li><a href="/blag/projects">Projects</a></li>
        
      
      
    

    
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/blag/about">About</a></li>
      
    
      
        <li><a href="/blag/projects">Projects</a></li>
      
    
    
  </ul>
</nav>

  
</header>


  <div class="content">
    
<div class="post">
  <h1 class="post-title">
    <a href="http://avi.im/blag/2016/git-fork-cycle-github/">Git/Github fork-pull request-update cycle</a></h1>
  <div class="post-meta">
    
      <span class="post-date">
        2016-02-19 
      </span>
    
    
  </div>

  
  <span class="post-tags">
    
    #<a href="http://avi.im/blag/tags/git/">git</a>&nbsp;
    
    #<a href="http://avi.im/blag/tags/github/">github</a>&nbsp;
    
    #<a href="http://avi.im/blag/tags/open-source/">open-source</a>&nbsp;
    
  </span>
  

  

  

  <div class="post-content"><div>
        <p>Lets say there is a project called <code>python</code> and you want to contribute. So you should fork <code>python</code> project and ALWAYS create a separate branch for the patch/feature you are working on and NEVER commit on the master branch of forked repo.</p>
<p>Lets call your forked repo as <code>python-forked</code>.</p>
<p>Once you fork a project, add a git remote called <code>upstream</code> (or whatever name you feel like using), which points to original repo. This remote will help you keep your project updated and in sync with original repo (from where you forked).</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ cd python-forked
$ git remote add upstream https://github.com/guido/python.git 
</code></pre></div><p>Consider 3 scenarios.</p>
<h3 id="the-simple-fork-and-send-pr">The simple, fork and send PR<a href="#the-simple-fork-and-send-pr" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>Create a new branch, name it on the patch/feature you are working on:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ cd python-forked
$ git checkout -b bugfix-unicode-strings
</code></pre></div><p>Work on <code>bugfix-unicode-strings</code> and make all the changes you want. And then do a push to your github account, which is usually <code>origin</code> remote:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ git push origin bugfix-unicode-strings
</code></pre></div><p>And then send PR, to <code>master</code> branch of <code>guido/python</code>, with your branch <code>bugfix-unicode-strings</code>.</p>
<p>Now, tomorrow, guido may add new features and you might want to update your forked repo. It&rsquo;s simple, just pull from the <code>upstream</code> to <code>master</code> branch of <code>python-forked</code></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ cd python-forked
$ git fetch upstream
$ git checkout master
$ git rebase upstream/master
</code></pre></div><h3 id="update-and-pr">Update and PR<a href="#update-and-pr" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>You have forked the project and maintainer has later moved on and added new features which you need in the current patch you are working on</p>
<p>You need to fetch the new changes from <code>upstream</code> and put those in your <code>patch</code> branch. While doing this, usually I update my master branch also:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ cd python-forked
$ git fetch upstream
$ git checkout master
$ git rebase upstream/master
$ git checkout existing-patch-I-am-working-on
$ git rebase master
</code></pre></div><p>You could also do <code>$ git rebase upstream/master</code> in last step to update the current patch branch.</p>
<h3 id="update-resolve-conflicts-and-pr">Update, resolve conflicts and PR<a href="#update-resolve-conflicts-and-pr" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<p>You have forked the project and maintainer has made some changes to the file you are also working on</p>
<p>Fetch the changes and merge it with current patch branch you are working:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback">$ cd python-forked
$ git fetch upstream
$ git checkout master
$ git rebase upstream/master
$ git checkout existing-patch-I-am-working-on-which-has-a-file-edited-by-guido
$ git rebase master
</code></pre></div><p>above rebase will fail(?) (or interrupted) and terminal will ask you to resolve the conflicts and then merge.</p>
<p>usually:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-fallback" data-lang="fallback"># solve the conflicts
$ git rebase --continue
</code></pre></div><h3 id="references">References<a href="#references" class="hanchor" ariaLabel="Anchor">&#8983;</a> </h3>
<ul>
<li>Syncing a Fork - <a href="https://help.github.com/articles/syncing-a-fork/">link</a></li>
<li>Merging an upstream repository into your fork - <a href="https://help.github.com/articles/merging-an-upstream-repository-into-your-fork/">link</a></li>
<li>How to update a GitHub forked repository? - <a href="http://stackoverflow.com/questions/7244321/how-to-update-a-github-forked-repository">link</a></li>
</ul>

      </div></div>

  
  
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read other posts</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button previous">
            <a href="http://avi.im/blag/2016/sigterm-in-python/">
                <span class="button__icon">←</span>
                <span class="button__text">Catching SIGTERM in Python</span>
            </a>
        </span>
        
        
        <span class="button next">
            <a href="http://avi.im/blag/2015/uwsgi-python3/">
                <span class="button__text">Using uWSGI with Python 3</span>
                <span class="button__icon">→</span>
            </a>
        </span>
        
    </div>
</div>

  

  

</div>

  </div>

  
    <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright">
        <span>© 2020 Powered by <a href="http://gohugo.io">Hugo</a></span>
    
        <span>:: Theme made by <a href="https://twitter.com/panr">panr</a></span>
      </div>
  </div>
</footer>

<script src="http://avi.im/blag/assets/main.js"></script>
<script src="http://avi.im/blag/assets/prism.js"></script>







  
</div>

</body>
</html>
